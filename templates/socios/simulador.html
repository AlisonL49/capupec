{% extends 'navbar.html' %}
{% load static %}

{% block content %}

<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card shadow-lg border-0" style="width: 100%; max-width: 500px;">
        <div class="card-header text-white text-center bg-primary">
            <h3 class="mb-0">Simulador de Créditos</h3>
        </div>

        <div class="card-body">
            <!-- Mensajes de éxito o error -->
            {% if messages %}
            {% for message in messages %}
            <div
                class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-danger{% endif %} text-center">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}

            <!-- Formulario -->
            <form method="POST" id="creditoForm">
                {% csrf_token %}

                <!-- Nombre del Cliente -->
                <div class="mb-3">
                    <label for="id_nombre" class="form-label">Nombre </label>
                    <input type="text" name="nombre" id="id_nombre" class="form-control" required>
                    <small class="text-danger d-none" id="errorNombre">Ingrese un nombre válido.</small>
                </div>

                <!-- Tipo de Crédito -->
                <div class="mb-3">
                    <label for="id_tipo_credito" class="form-label">Tipo de Crédito</label>
                    <select id="tipo_tabla" name="tipo_credito" class="form-select">
                        <option value="Consumo" >Consumo</option>
                        <option value="Educacion" >Educación</option>
                        <option value="Ordinario" >Ordinario</option>
                    </select>
                    <small class="text-danger d-none" id="errorTipoCredito">Seleccione un tipo de crédito.</small>
                </div>

                <!-- Monto del Crédito -->
                <div class="mb-3">
                    <label for="id_monto" class="form-label">Monto del Crédito</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-dollar-sign"></i></span>
                        <input type="number" name="monto" id="id_monto" class="form-control" step="0.01" required>
                    </div>
                    <small class="text-danger d-none" id="errorMonto">Ingrese un monto válido.</small>
                </div>

                <!-- Plazo en Meses -->
                <div class="mb-3">
                    <label for="id_meses" class="form-label">Plazo en Meses</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                        <input type="number" name="meses" id="id_meses" class="form-control" min="1" required>
                    </div>
                    <small class="text-danger d-none" id="errorMeses">Ingrese un plazo válido (mínimo 1 mes).</small>
                </div>

                <!-- Botón de Envío -->
                <button type="submit" class="btn btn-primary w-100">Crear Simulación</button>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap y FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/scripts.js' %}"></script>

{% endblock %}